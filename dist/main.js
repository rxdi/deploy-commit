#! /usr/bin/env node















parcelRequire=function(e,r,t,n){var i,o="function"==typeof parcelRequire&&parcelRequire,u="function"==typeof require&&require;function f(t,n){if(!r[t]){if(!e[t]){var i="function"==typeof parcelRequire&&parcelRequire;if(!n&&i)return i(t,!0);if(o)return o(t,!0);if(u&&"string"==typeof t)return u(t);var c=new Error("Cannot find module '"+t+"'");throw c.code="MODULE_NOT_FOUND",c}p.resolve=function(r){return e[t][1][r]||r},p.cache={};var l=r[t]=new f.Module(t);e[t][0].call(l.exports,p,l,l.exports,this)}return r[t].exports;function p(e){return f(p.resolve(e))}}f.isParcelRequire=!0,f.Module=function(e){this.id=e,this.bundle=f,this.exports={}},f.modules=e,f.cache=r,f.parent=o,f.register=function(r,t){e[r]=[function(e,r){r.exports=t},{}]};for(var c=0;c<t.length;c++)try{f(t[c])}catch(e){i||(i=e)}if(t.length){var l=f(t[t.length-1]);"object"==typeof exports&&"undefined"!=typeof module?module.exports=l:"function"==typeof define&&define.amd?define(function(){return l}):n&&(this[n]=l)}if(parcelRequire=f,i)throw i;return f}({"app/app.injection.ts":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@rxdi/core");var t;exports.COMMAND_PARSER=new e.InjectionToken("rxdi-commiter-command-parser"),exports.REACTIVE_JSON=new e.InjectionToken("rxdi-commiter-reactive-json"),exports.PACKAGE_JSON=new e.InjectionToken("rxdi-commiter-package-json"),function(e){e.status="status",e.add="add",e.scan="scan",e.checkout="checkout",e.commit="commit",e.push="push",e.install="install",e.i="i"}(t=exports.COMMANDS||(exports.COMMANDS={}));
},{}],"app/core/api-introspection/documents.ts":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DOCUMENTS={"node_modules/graphql-document-collector/example/fragments/onFilm/Movie.graphql":{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Movie",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Film",loc:{start:18,end:22}},loc:{start:18,end:22}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id",loc:{start:27,end:29}},arguments:[],directives:[],selectionSet:null,loc:{start:27,end:29}},{kind:"Field",alias:null,name:{kind:"Name",value:"title",loc:{start:32,end:37}},arguments:[],directives:[],selectionSet:null,loc:{start:32,end:37}},{kind:"Field",alias:null,name:{kind:"Name",value:"director",loc:{start:40,end:48}},arguments:[],directives:[],selectionSet:null,loc:{start:40,end:48}},{kind:"Field",alias:null,name:{kind:"Name",value:"planetConnection",loc:{start:51,end:67}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"planets",loc:{start:74,end:81}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Place",loc:{start:93,end:98}},directives:[],loc:{start:90,end:98}}],loc:{start:82,end:104}},loc:{start:74,end:104}}],loc:{start:68,end:108}},loc:{start:51,end:108}}],loc:{start:23,end:110}},loc:{start:0,end:110}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Place",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Planet",loc:{start:18,end:24}},loc:{start:18,end:24}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name",loc:{start:29,end:33}},arguments:[],directives:[],selectionSet:null,loc:{start:29,end:33}},{kind:"Field",alias:null,name:{kind:"Name",value:"climates",loc:{start:36,end:44}},arguments:[],directives:[],selectionSet:null,loc:{start:36,end:44}}],loc:{start:25,end:46}},loc:{start:0,end:46}}],loc:{start:0,end:111},name:{kind:"Name",value:"Movie.graphql"}},"node_modules/graphql-document-collector/example/fragments/onPlanet/Place.graphql":{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Place",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Planet",loc:{start:18,end:24}},loc:{start:18,end:24}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name",loc:{start:29,end:33}},arguments:[],directives:[],selectionSet:null,loc:{start:29,end:33}},{kind:"Field",alias:null,name:{kind:"Name",value:"climates",loc:{start:36,end:44}},arguments:[],directives:[],selectionSet:null,loc:{start:36,end:44}}],loc:{start:25,end:46}},loc:{start:0,end:46}}],loc:{start:0,end:47},name:{kind:"Name",value:"Place.graphql"}},"node_modules/graphql-document-collector/example/queries/ListMovies.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListMovies",loc:{start:6,end:16}},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"allFilms",loc:{start:21,end:29}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"films",loc:{start:36,end:41}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Movie",loc:{start:53,end:58}},directives:[],loc:{start:50,end:58}}],loc:{start:42,end:64}},loc:{start:36,end:64}}],loc:{start:30,end:68}},loc:{start:21,end:68}}],loc:{start:17,end:70}},loc:{start:0,end:70}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Movie",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Film",loc:{start:18,end:22}},loc:{start:18,end:22}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id",loc:{start:27,end:29}},arguments:[],directives:[],selectionSet:null,loc:{start:27,end:29}},{kind:"Field",alias:null,name:{kind:"Name",value:"title",loc:{start:32,end:37}},arguments:[],directives:[],selectionSet:null,loc:{start:32,end:37}},{kind:"Field",alias:null,name:{kind:"Name",value:"director",loc:{start:40,end:48}},arguments:[],directives:[],selectionSet:null,loc:{start:40,end:48}},{kind:"Field",alias:null,name:{kind:"Name",value:"planetConnection",loc:{start:51,end:67}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"planets",loc:{start:74,end:81}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Place",loc:{start:93,end:98}},directives:[],loc:{start:90,end:98}}],loc:{start:82,end:104}},loc:{start:74,end:104}}],loc:{start:68,end:108}},loc:{start:51,end:108}}],loc:{start:23,end:110}},loc:{start:0,end:110}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Place",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Planet",loc:{start:18,end:24}},loc:{start:18,end:24}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name",loc:{start:29,end:33}},arguments:[],directives:[],selectionSet:null,loc:{start:29,end:33}},{kind:"Field",alias:null,name:{kind:"Name",value:"climates",loc:{start:36,end:44}},arguments:[],directives:[],selectionSet:null,loc:{start:36,end:44}}],loc:{start:25,end:46}},loc:{start:0,end:46}}],loc:{start:0,end:71},name:{kind:"Name",value:"ListMovies.graphql"}},"node_modules/graphql-document-collector/inlineFragmentExample/fragments/onFilm/Movie.graphql":{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Movie",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Film",loc:{start:18,end:22}},loc:{start:18,end:22}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id",loc:{start:27,end:29}},arguments:[],directives:[],selectionSet:null,loc:{start:27,end:29}},{kind:"Field",alias:null,name:{kind:"Name",value:"title",loc:{start:32,end:37}},arguments:[],directives:[],selectionSet:null,loc:{start:32,end:37}},{kind:"Field",alias:null,name:{kind:"Name",value:"director",loc:{start:40,end:48}},arguments:[],directives:[],selectionSet:null,loc:{start:40,end:48}},{kind:"Field",alias:null,name:{kind:"Name",value:"planetConnection",loc:{start:51,end:67}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"planets",loc:{start:74,end:81}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Place",loc:{start:93,end:98}},directives:[],loc:{start:90,end:98}}],loc:{start:82,end:104}},loc:{start:74,end:104}}],loc:{start:68,end:108}},loc:{start:51,end:108}}],loc:{start:23,end:110}},loc:{start:0,end:110}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Place",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Planet",loc:{start:18,end:24}},loc:{start:18,end:24}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name",loc:{start:29,end:33}},arguments:[],directives:[],selectionSet:null,loc:{start:29,end:33}},{kind:"Field",alias:null,name:{kind:"Name",value:"climates",loc:{start:36,end:44}},arguments:[],directives:[],selectionSet:null,loc:{start:36,end:44}}],loc:{start:25,end:46}},loc:{start:0,end:46}}],loc:{start:0,end:111},name:{kind:"Name",value:"Movie.graphql"}},"node_modules/graphql-document-collector/inlineFragmentExample/fragments/onPlanet/Place.graphql":{kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"Place",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Planet",loc:{start:18,end:24}},loc:{start:18,end:24}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name",loc:{start:29,end:33}},arguments:[],directives:[],selectionSet:null,loc:{start:29,end:33}},{kind:"Field",alias:null,name:{kind:"Name",value:"climates",loc:{start:36,end:44}},arguments:[],directives:[],selectionSet:null,loc:{start:36,end:44}}],loc:{start:25,end:46}},loc:{start:0,end:46}}],loc:{start:0,end:47},name:{kind:"Name",value:"Place.graphql"}},"node_modules/graphql-document-collector/inlineFragmentExample/queries/ListMovies.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ListMovies",loc:{start:6,end:16}},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"allFilms",loc:{start:21,end:29}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"films",loc:{start:36,end:41}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Thing",loc:{start:56,end:61}},loc:{start:56,end:61}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Movie",loc:{start:75,end:80}},directives:[],loc:{start:72,end:80}}],loc:{start:62,end:88}},loc:{start:50,end:88}}],loc:{start:42,end:94}},loc:{start:36,end:94}}],loc:{start:30,end:98}},loc:{start:21,end:98}}],loc:{start:17,end:100}},loc:{start:0,end:100}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Movie",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Film",loc:{start:18,end:22}},loc:{start:18,end:22}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"id",loc:{start:27,end:29}},arguments:[],directives:[],selectionSet:null,loc:{start:27,end:29}},{kind:"Field",alias:null,name:{kind:"Name",value:"title",loc:{start:32,end:37}},arguments:[],directives:[],selectionSet:null,loc:{start:32,end:37}},{kind:"Field",alias:null,name:{kind:"Name",value:"director",loc:{start:40,end:48}},arguments:[],directives:[],selectionSet:null,loc:{start:40,end:48}},{kind:"Field",alias:null,name:{kind:"Name",value:"planetConnection",loc:{start:51,end:67}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"planets",loc:{start:74,end:81}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"Place",loc:{start:93,end:98}},directives:[],loc:{start:90,end:98}}],loc:{start:82,end:104}},loc:{start:74,end:104}}],loc:{start:68,end:108}},loc:{start:51,end:108}}],loc:{start:23,end:110}},loc:{start:0,end:110}},{kind:"FragmentDefinition",name:{kind:"Name",value:"Place",loc:{start:9,end:14}},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Planet",loc:{start:18,end:24}},loc:{start:18,end:24}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"name",loc:{start:29,end:33}},arguments:[],directives:[],selectionSet:null,loc:{start:29,end:33}},{kind:"Field",alias:null,name:{kind:"Name",value:"climates",loc:{start:36,end:44}},arguments:[],directives:[],selectionSet:null,loc:{start:36,end:44}}],loc:{start:25,end:46}},loc:{start:0,end:46}}],loc:{start:0,end:101},name:{kind:"Name",value:"ListMovies.graphql"}},"src/app/core/status/queries/statusQuery.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"status",loc:{start:6,end:12}},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"status",loc:{start:19,end:25}},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"status",loc:{start:36,end:42}},arguments:[],directives:[],selectionSet:null,loc:{start:36,end:42}}],loc:{start:26,end:48}},loc:{start:19,end:48}}],loc:{start:13,end:50}},loc:{start:0,end:50}}],loc:{start:0,end:50},name:{kind:"Name",value:"statusQuery.graphql"}},"src/app/core/transaction/mutations/addTransactionMutation.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"addTransaction",loc:{start:9,end:23}},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"path",loc:{start:25,end:29}},loc:{start:24,end:29}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:31,end:37}},loc:{start:31,end:37}},loc:{start:31,end:38}},defaultValue:null,loc:{start:24,end:38}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"birthtime",loc:{start:41,end:50}},loc:{start:40,end:50}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:52,end:58}},loc:{start:52,end:58}},loc:{start:52,end:59}},defaultValue:null,loc:{start:40,end:59}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:62,end:72}},loc:{start:61,end:72}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:74,end:80}},loc:{start:74,end:80}},loc:{start:74,end:81}},defaultValue:null,loc:{start:61,end:81}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"namespace",loc:{start:84,end:93}},loc:{start:83,end:93}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:95,end:101}},loc:{start:95,end:101}},loc:{start:95,end:102}},defaultValue:null,loc:{start:83,end:102}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"addTransaction",loc:{start:108,end:122}},arguments:[{kind:"Argument",name:{kind:"Name",value:"path",loc:{start:123,end:127}},value:{kind:"Variable",name:{kind:"Name",value:"path",loc:{start:130,end:134}},loc:{start:129,end:134}},loc:{start:123,end:134}},{kind:"Argument",name:{kind:"Name",value:"birthtime",loc:{start:136,end:145}},value:{kind:"Variable",name:{kind:"Name",value:"birthtime",loc:{start:148,end:157}},loc:{start:147,end:157}},loc:{start:136,end:157}},{kind:"Argument",name:{kind:"Name",value:"repoFolder",loc:{start:159,end:169}},value:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:172,end:182}},loc:{start:171,end:182}},loc:{start:159,end:182}},{kind:"Argument",name:{kind:"Name",value:"namespace",loc:{start:184,end:193}},value:{kind:"Variable",name:{kind:"Name",value:"namespace",loc:{start:196,end:205}},loc:{start:195,end:205}},loc:{start:184,end:205}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"_id",loc:{start:213,end:216}},arguments:[],directives:[],selectionSet:null,loc:{start:213,end:216}},{kind:"Field",alias:null,name:{kind:"Name",value:"status",loc:{start:221,end:227}},arguments:[],directives:[],selectionSet:null,loc:{start:221,end:227}},{kind:"Field",alias:null,name:{kind:"Name",value:"path",loc:{start:232,end:236}},arguments:[],directives:[],selectionSet:null,loc:{start:232,end:236}},{kind:"Field",alias:null,name:{kind:"Name",value:"birthtime",loc:{start:241,end:250}},arguments:[],directives:[],selectionSet:null,loc:{start:241,end:250}},{kind:"Field",alias:null,name:{kind:"Name",value:"namespace",loc:{start:255,end:264}},arguments:[],directives:[],selectionSet:null,loc:{start:255,end:264}}],loc:{start:207,end:268}},loc:{start:108,end:268}}],loc:{start:104,end:270}},loc:{start:0,end:270}}],loc:{start:0,end:271},name:{kind:"Name",value:"addTransactionMutation.graphql"}},"src/app/core/transaction/mutations/checkoutTransactionMutation.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"checkoutTransaction",loc:{start:9,end:28}},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"path",loc:{start:30,end:34}},loc:{start:29,end:34}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:36,end:42}},loc:{start:36,end:42}},loc:{start:36,end:43}},defaultValue:null,loc:{start:29,end:43}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:46,end:56}},loc:{start:45,end:56}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:58,end:64}},loc:{start:58,end:64}},loc:{start:58,end:65}},defaultValue:null,loc:{start:45,end:65}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"checkoutTransaction",loc:{start:71,end:90}},arguments:[{kind:"Argument",name:{kind:"Name",value:"path",loc:{start:91,end:95}},value:{kind:"Variable",name:{kind:"Name",value:"path",loc:{start:98,end:102}},loc:{start:97,end:102}},loc:{start:91,end:102}},{kind:"Argument",name:{kind:"Name",value:"repoFolder",loc:{start:104,end:114}},value:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:117,end:127}},loc:{start:116,end:127}},loc:{start:104,end:127}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"_id",loc:{start:135,end:138}},arguments:[],directives:[],selectionSet:null,loc:{start:135,end:138}},{kind:"Field",alias:null,name:{kind:"Name",value:"status",loc:{start:143,end:149}},arguments:[],directives:[],selectionSet:null,loc:{start:143,end:149}},{kind:"Field",alias:null,name:{kind:"Name",value:"birthtime",loc:{start:154,end:163}},arguments:[],directives:[],selectionSet:null,loc:{start:154,end:163}},{kind:"Field",alias:null,name:{kind:"Name",value:"path",loc:{start:168,end:172}},arguments:[],directives:[],selectionSet:null,loc:{start:168,end:172}},{kind:"Field",alias:null,name:{kind:"Name",value:"namespace",loc:{start:177,end:186}},arguments:[],directives:[],selectionSet:null,loc:{start:177,end:186}}],loc:{start:129,end:190}},loc:{start:71,end:190}}],loc:{start:67,end:192}},loc:{start:0,end:192}}],loc:{start:0,end:193},name:{kind:"Name",value:"checkoutTransactionMutation.graphql"}},"src/app/core/transaction/mutations/commitTransactionMutation.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"commitTransaction",loc:{start:9,end:26}},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"message",loc:{start:28,end:35}},loc:{start:27,end:35}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:37,end:43}},loc:{start:37,end:43}},loc:{start:37,end:44}},defaultValue:null,loc:{start:27,end:44}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:47,end:57}},loc:{start:46,end:57}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:59,end:65}},loc:{start:59,end:65}},loc:{start:59,end:66}},defaultValue:null,loc:{start:46,end:66}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"commitTransaction",loc:{start:72,end:89}},arguments:[{kind:"Argument",name:{kind:"Name",value:"message",loc:{start:90,end:97}},value:{kind:"Variable",name:{kind:"Name",value:"message",loc:{start:100,end:107}},loc:{start:99,end:107}},loc:{start:90,end:107}},{kind:"Argument",name:{kind:"Name",value:"repoFolder",loc:{start:109,end:119}},value:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:122,end:132}},loc:{start:121,end:132}},loc:{start:109,end:132}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"_id",loc:{start:140,end:143}},arguments:[],directives:[],selectionSet:null,loc:{start:140,end:143}},{kind:"Field",alias:null,name:{kind:"Name",value:"status",loc:{start:148,end:154}},arguments:[],directives:[],selectionSet:null,loc:{start:148,end:154}},{kind:"Field",alias:null,name:{kind:"Name",value:"birthtime",loc:{start:159,end:168}},arguments:[],directives:[],selectionSet:null,loc:{start:159,end:168}},{kind:"Field",alias:null,name:{kind:"Name",value:"path",loc:{start:173,end:177}},arguments:[],directives:[],selectionSet:null,loc:{start:173,end:177}},{kind:"Field",alias:null,name:{kind:"Name",value:"repoFolder",loc:{start:182,end:192}},arguments:[],directives:[],selectionSet:null,loc:{start:182,end:192}},{kind:"Field",alias:null,name:{kind:"Name",value:"message",loc:{start:197,end:204}},arguments:[],directives:[],selectionSet:null,loc:{start:197,end:204}},{kind:"Field",alias:null,name:{kind:"Name",value:"namespace",loc:{start:209,end:218}},arguments:[],directives:[],selectionSet:null,loc:{start:209,end:218}}],loc:{start:134,end:222}},loc:{start:72,end:222}}],loc:{start:68,end:224}},loc:{start:0,end:224}}],loc:{start:0,end:225},name:{kind:"Name",value:"commitTransactionMutation.graphql"}},"src/app/core/transaction/mutations/pushTransactionMutation.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"pushTransactionMutation",loc:{start:9,end:32}},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:34,end:44}},loc:{start:33,end:44}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:46,end:52}},loc:{start:46,end:52}},loc:{start:46,end:53}},defaultValue:null,loc:{start:33,end:53}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"pushTransactionMutation",loc:{start:59,end:82}},arguments:[{kind:"Argument",name:{kind:"Name",value:"repoFolder",loc:{start:83,end:93}},value:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:96,end:106}},loc:{start:95,end:106}},loc:{start:83,end:106}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"_id",loc:{start:114,end:117}},arguments:[],directives:[],selectionSet:null,loc:{start:114,end:117}},{kind:"Field",alias:null,name:{kind:"Name",value:"status",loc:{start:122,end:128}},arguments:[],directives:[],selectionSet:null,loc:{start:122,end:128}},{kind:"Field",alias:null,name:{kind:"Name",value:"birthtime",loc:{start:133,end:142}},arguments:[],directives:[],selectionSet:null,loc:{start:133,end:142}},{kind:"Field",alias:null,name:{kind:"Name",value:"path",loc:{start:147,end:151}},arguments:[],directives:[],selectionSet:null,loc:{start:147,end:151}},{kind:"Field",alias:null,name:{kind:"Name",value:"repoFolder",loc:{start:156,end:166}},arguments:[],directives:[],selectionSet:null,loc:{start:156,end:166}},{kind:"Field",alias:null,name:{kind:"Name",value:"message",loc:{start:171,end:178}},arguments:[],directives:[],selectionSet:null,loc:{start:171,end:178}},{kind:"Field",alias:null,name:{kind:"Name",value:"namespace",loc:{start:183,end:192}},arguments:[],directives:[],selectionSet:null,loc:{start:183,end:192}}],loc:{start:108,end:196}},loc:{start:59,end:196}}],loc:{start:55,end:198}},loc:{start:0,end:198}}],loc:{start:0,end:199},name:{kind:"Name",value:"pushTransactionMutation.graphql"}},"src/app/core/transaction/queries/listTransactionsQuery.graphql":{kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"listTransactions",loc:{start:6,end:22}},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"status",loc:{start:24,end:30}},loc:{start:23,end:30}},type:{kind:"NamedType",name:{kind:"Name",value:"TransactionsTypeEnum",loc:{start:32,end:52}},loc:{start:32,end:52}},defaultValue:null,loc:{start:23,end:52}},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:55,end:65}},loc:{start:54,end:65}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String",loc:{start:67,end:73}},loc:{start:67,end:73}},loc:{start:67,end:74}},defaultValue:null,loc:{start:54,end:74}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"listTransactions",loc:{start:80,end:96}},arguments:[{kind:"Argument",name:{kind:"Name",value:"status",loc:{start:97,end:103}},value:{kind:"Variable",name:{kind:"Name",value:"status",loc:{start:106,end:112}},loc:{start:105,end:112}},loc:{start:97,end:112}},{kind:"Argument",name:{kind:"Name",value:"repoFolder",loc:{start:114,end:124}},value:{kind:"Variable",name:{kind:"Name",value:"repoFolder",loc:{start:127,end:137}},loc:{start:126,end:137}},loc:{start:114,end:137}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:null,name:{kind:"Name",value:"_id",loc:{start:145,end:148}},arguments:[],directives:[],selectionSet:null,loc:{start:145,end:148}},{kind:"Field",alias:null,name:{kind:"Name",value:"status",loc:{start:153,end:159}},arguments:[],directives:[],selectionSet:null,loc:{start:153,end:159}},{kind:"Field",alias:null,name:{kind:"Name",value:"birthtime",loc:{start:164,end:173}},arguments:[],directives:[],selectionSet:null,loc:{start:164,end:173}},{kind:"Field",alias:null,name:{kind:"Name",value:"path",loc:{start:178,end:182}},arguments:[],directives:[],selectionSet:null,loc:{start:178,end:182}},{kind:"Field",alias:null,name:{kind:"Name",value:"repoFolder",loc:{start:187,end:197}},arguments:[],directives:[],selectionSet:null,loc:{start:187,end:197}},{kind:"Field",alias:null,name:{kind:"Name",value:"message",loc:{start:202,end:209}},arguments:[],directives:[],selectionSet:null,loc:{start:202,end:209}},{kind:"Field",alias:null,name:{kind:"Name",value:"namespace",loc:{start:214,end:223}},arguments:[],directives:[],selectionSet:null,loc:{start:214,end:223}}],loc:{start:139,end:227}},loc:{start:80,end:227}}],loc:{start:76,end:229}},loc:{start:0,end:229}}],loc:{start:0,end:230},name:{kind:"Name",value:"listTransactionsQuery.graphql"}}};
},{}],"app/core/api-introspection/graphql-helpers.ts":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("./documents"),r=require("graphql");function t(t){let i;if(Object.keys(e.DOCUMENTS).filter(r=>{-1!==r.indexOf(t)&&(i=e.DOCUMENTS[r])}),!i)throw new Error(`Missing query: ${t}`);return r.print(i)}exports.importQuery=t;
},{"./documents":"app/core/api-introspection/documents.ts"}],"app/core/graph/graph.service.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,r,t,o){var i,l=arguments.length,c=l<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(e,r,t,o);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(c=(l<3?i(c):l>3?i(r,t,c):i(r,t))||c);return l>3&&c&&Object.defineProperty(r,t,c),c},r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@rxdi/core"),o=require("rxjs"),i=r(require("graphql-request")),l=require("../api-introspection/graphql-helpers");let c=class{request(e,r={}){return o.from(i.default("http://localhost:9300/graphql",l.importQuery(e),r))}};c=e([t.Injectable()],c),exports.GraphService=c;
},{"../api-introspection/graphql-helpers":"app/core/api-introspection/graphql-helpers.ts"}],"app/core/helpers/index.ts":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.includes=(e=>process.argv.toString().includes(e)),exports.nextOrDefault=((e,r=!0,s=(e=>e))=>{if(process.argv.toString().includes(e)){const t=process.argv[process.argv.indexOf(e)+1];return t?t.includes("--")?r:s(t):r}return r});
},{}],"app/core/logger/logger.service.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,o){var s,a=arguments.length,l=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,r,o);else for(var n=e.length-1;n>=0;n--)(s=e[n])&&(l=(a<3?s(l):a>3?s(t,r,l):s(t,r))||l);return a>3&&l&&Object.defineProperty(t,r,l),l};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@rxdi/core"),r=require("chalk"),o=require("cli-table");let s=class{showTransactionLog(e){const t=new o({head:["Transaction ID","Status","Path","Message"],colWidths:[20,20,20,80]});t.push(...e.map(e=>[e._id,e.status?e.status:"UNKNOWN",e.path||"",e.message||""])),console.log(""),console.log(t.toString()),console.log(r`
There are {green.bold ${e.filter(e=>"DEPLOYED"===e.status).length} deployed} transactions.
There are {red.bold ${e.filter(e=>"DEPLOYED"!==e.status).length} undeployed} transactions.
`)}};s=e([t.Injectable()],s),exports.LoggerService=s;
},{}],"app/core/spinner/spinner.service.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,s){var n,o=arguments.length,i=o<3?t:null===s?s=Object.getOwnPropertyDescriptor(t,r):s;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,s);else for(var c=e.length-1;c>=0;c--)(n=e[c])&&(i=(o<3?n(i):o>3?n(t,r,i):n(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@rxdi/core"),r=require("rxjs"),s=require("ora");let n=class{start(e){return r.of(this.spinner=s(e).start())}stop(e="",t=""){return r.of(this.spinner.stopAndPersist({symbol:e,text:t}))}stopAndPersist(e="",t=""){return this.spinner.stopAndPersist({symbol:e,text:t})}};n=e([t.Injectable()],n),exports.SpinnerService=n;
},{}],"app/core/file/file.service.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,i){var s,n=arguments.length,o=n<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(o=(n<3?s(o):n>3?s(t,r,o):s(t,r))||o);return n>3&&o&&Object.defineProperty(t,r,o),o},t=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(s,n){function o(e){try{l(i.next(e))}catch(t){n(t)}}function c(e){try{l(i.throw(e))}catch(t){n(t)}}function l(e){e.done?s(e.value):new r(function(t){t(e.value)}).then(o,c)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const r=require("@rxdi/core"),i=require("fs"),s=require("rxjs/operators"),n=require("fs"),o=require("path"),c=require("rxjs");let l=class{constructor(){this.units=["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"],this.results=[]}read(e){let t="{}";try{t=i.readFileSync(`${process.cwd()}/${e}`,{encoding:"utf-8"})}catch(r){}return JSON.parse(t)}readReactiveJson(){return this.read("reactive.json")}readPackageJson(){return this.read("package.json")}wholeReadDirRecursive(e="."){return t(this,void 0,void 0,function*(){const r=yield this.readDir(e),i=e,s=this;return(yield Promise.all(r.map(e=>t(this,void 0,void 0,function*(){const t=o.resolve(i,e),r=yield this.statAsync(t);if(r&&r.isDirectory()){if(e.includes("node_modules"))return null;yield s.wholeReadDirRecursive.bind(this)(t)}else this.results=[...this.results,t]})))).filter(e=>!!e)})}readCurrentDirFlat(e="."){return t(this,void 0,void 0,function*(){return(yield this.readDir(e)).map(t=>o.resolve(e,t)).filter(e=>!!e)})}listFolder(e){return c.from(this.readCurrentDirFlat(e)).pipe(s.switchMap(e=>this.map(e)))}readDir(e,r=200){return t(this,void 0,void 0,function*(){return yield new Promise((t,i)=>{n.readdir(e,(e,i)=>{if(e)t([]);else{let e=0;t(i.map(t=>r>++e?t:null).filter(e=>!!e))}})})})}map(e){return t(this,void 0,void 0,function*(){let r=0;return(yield Promise.all(e.map(e=>t(this,void 0,void 0,function*(){r++;const t={path:e},i=yield this.statAsync(e);return!i.isDirectory||i&&i.prototype===String?null:(i.isDirectory()?t.directory=!0:t.file=!0,t.name=e.split("/").pop(),t.path=(t=>e.replace(process.cwd(),t))("."),t.path=e,t.status=i,t.status.size=this.niceBytes(i.size),100===r?null:t)})))).filter(e=>!!e)})}niceBytes(e){let t=0,r=parseInt(e,10)||0;for(;r>=1024&&++t;)r/=1024;return r.toFixed(r>=10||t<1?0:1)+" "+this.units[t]}statAsync(e){return t(this,void 0,void 0,function*(){return yield new Promise((t,r)=>{n.stat(e,(e,r)=>{e&&t(e),t(r)})})})}};l=e([r.Injectable()],l),exports.FileService=l;
},{}],"app/core/transaction/transaction.service.ts":[function(require,module,exports) {
"use strict";var e,t,i,r,s,n,o,c=this&&this.__decorate||function(e,t,i,r){var s,n=arguments.length,o=n<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,i,r);else for(var c=e.length-1;c>=0;c--)(s=e[c])&&(o=(n<3?s(o):n>3?s(t,i,o):s(t,i))||o);return n>3&&o&&Object.defineProperty(t,i,o),o},a=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},p=this&&this.__param||function(e,t){return function(i,r){t(i,r,e)}},h=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function o(e){try{a(r.next(e))}catch(t){n(t)}}function c(e){try{a(r.throw(e))}catch(t){n(t)}}function a(e){e.done?s(e.value):new i(function(t){t(e.value)}).then(o,c)}a((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const l=require("@rxdi/core"),d=require("../graph/graph.service"),u=require("../helpers"),f=require("../logger/logger.service"),g=require("../spinner/spinner.service"),v=require("rxjs/operators"),m=require("../file/file.service"),y=require("../../app.injection");let S=class{constructor(e,t,i,r,s,n,o){this.graphService=e,this.tLogger=t,this.spinner=i,this.fileService=r,this.reactiveJson=s,this.packageJson=n,this.command=o,this.addTransaction=(()=>h(this,void 0,void 0,function*(){let e;this.spinner.start(`Adding ${this.path} to transaction...`);let t="";try{e=yield this.isDirectory(this.path)}catch(r){t=r}if(t)return this.spinner.stopAndPersist("ðŸ›Žï¸",` ${this.path} is directory! Please specify file instead`),null;let i={};try{i=yield this.graphService.request("addTransactionMutation.graphql",{namespace:this.reactiveJson.name||this.packageJson.name,birthtime:e.birthtime.toISOString(),path:this.path,repoFolder:process.cwd()}).pipe(v.map(e=>e.addTransaction)).toPromise()}catch(r){t=r.response.errors[0].message}return this.spinner.stopAndPersist(t?"ðŸ›Žï¸":"âœŽ",t||`Transaction ${i._id} created for file: ${i.path}`),i})),this.checkoutTransaction=(()=>h(this,void 0,void 0,function*(){let e,t="";try{yield this.isDirectory(this.path)}catch(i){t=i}if(t)return this.spinner.stopAndPersist("ðŸ›Žï¸",` ${this.path} is directory! Please specify file instead`),null;try{this.spinner.start("Commiting transaction..."),e=yield this.graphService.request("checkoutTransactionMutation.graphql",{repoFolder:process.cwd(),birthtime:null,path:this.path}).pipe(v.map(e=>e.checkoutTransaction)).toPromise()}catch(i){i&&i.response&&i.response.errors.length&&(t=i.response.errors[0].message)}return this.spinner.stopAndPersist(t?"ðŸ›Žï¸":"âœŽ",t||`Transaction removed: ${this.path}`),e})),this.commitTransaction=(()=>h(this,void 0,void 0,function*(){const e=process.argv.slice(3)[0];if(!e)throw new Error("Missing commit message");let t,i="";try{this.spinner.start(""),t=yield this.graphService.request("commitTransactionMutation.graphql",{repoFolder:process.cwd(),message:e}).pipe(v.map(e=>e.commitTransaction)).toPromise()}catch(r){console.log(r),r&&r.response&&r.response.errors.length&&(i=r.response.errors[0].message)}return console.log(t),this.spinner.stopAndPersist(i?"ðŸ›Žï¸":"âœŽ",i||`Transaction commited ${t._id} with message ${t.message}`),t})),this.pushTransactions=(()=>h(this,void 0,void 0,function*(){let e,t="";try{this.spinner.start(""),e=yield this.graphService.request("pushTransactionMutation.graphql",{repoFolder:process.cwd()}).pipe(v.map(e=>e.commitTransaction)).toPromise()}catch(i){i&&i.response&&i.response.errors.length&&(t=i.response.errors[0].message)}return this.spinner.stopAndPersist(t?"ðŸ›Žï¸":"âœŽ",t||`Transaction pushed ${e._id} with message ${e.message} waiting for build to pass...`),e})),this.listTransactions=(()=>h(this,void 0,void 0,function*(){const e=u.nextOrDefault("--status","UNKNOWN");return this.spinner.start("Loading transactions..."),yield this.graphService.request("listTransactionsQuery.graphql",{status:e,repoFolder:process.cwd()}).pipe(v.map(e=>e.listTransactions),v.tap(e=>{this.tLogger.showTransactionLog(e),this.spinner.stopAndPersist("âœŽ","Transactions listed!")})).toPromise()})),this.path=this.reactiveJson.main||this.command[1]}scan(){return h(this,void 0,void 0,function*(){const e=yield this.fileService.listFolder(this.path).toPromise();return console.log(""),console.log("Files: ",e.filter(e=>e.file).length),console.log("Folders: ",e.filter(e=>e.directory).length),this.fileService.results})}isDirectory(e){return h(this,void 0,void 0,function*(){const t=yield this.fileService.statAsync(e);if(!t.isDirectory||t&&t.constructor.prototype===String)throw new Error("Not a file!");if(t.isDirectory())throw new Error("This is directory! Please specify file instead!");return t})}};S=c([l.Injectable(),p(4,l.Inject(y.REACTIVE_JSON)),p(5,l.Inject(y.PACKAGE_JSON)),p(6,l.Inject(y.COMMAND_PARSER)),a("design:paramtypes",["function"==typeof(e=void 0!==d.GraphService&&d.GraphService)?e:Object,"function"==typeof(t=void 0!==f.LoggerService&&f.LoggerService)?t:Object,"function"==typeof(i=void 0!==g.SpinnerService&&g.SpinnerService)?i:Object,"function"==typeof(r=void 0!==m.FileService&&m.FileService)?r:Object,"function"==typeof(s=void 0!==y.REACTIVE_JSON&&y.REACTIVE_JSON)?s:Object,"function"==typeof(n=void 0!==y.PACKAGE_JSON&&y.PACKAGE_JSON)?n:Object,"function"==typeof(o=void 0!==y.COMMAND_PARSER&&y.COMMAND_PARSER)?o:Object])],S),exports.TransactionService=S;
},{"../graph/graph.service":"app/core/graph/graph.service.ts","../helpers":"app/core/helpers/index.ts","../logger/logger.service":"app/core/logger/logger.service.ts","../spinner/spinner.service":"app/core/spinner/spinner.service.ts","../file/file.service":"app/core/file/file.service.ts","../../app.injection":"app/app.injection.ts"}],"app/core/status/status.service.ts":[function(require,module,exports) {
"use strict";var e,t=this&&this.__decorate||function(e,t,r,c){var a,i=arguments.length,o=i<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,r):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,c);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(o=(i<3?a(o):i>3?a(t,r,o):a(t,r))||o);return i>3&&o&&Object.defineProperty(t,r,o),o},r=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)};Object.defineProperty(exports,"__esModule",{value:!0});const c=require("@rxdi/core"),a=require("../graph/graph.service");let i=class{constructor(e){this.graphService=e}requestStatus(){return this.graphService.request("statusQuery.graphql")}};i=t([c.Injectable(),r("design:paramtypes",["function"==typeof(e=void 0!==a.GraphService&&a.GraphService)?e:Object])],i),exports.StatusService=i;
},{"../graph/graph.service":"app/core/graph/graph.service.ts"}],"app/core/tasks/install/install.service.ts":[function(require,module,exports) {
"use strict";var e,r,t=this&&this.__decorate||function(e,r,t,o){var i,s=arguments.length,l=s<3?r:null===o?o=Object.getOwnPropertyDescriptor(r,t):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,r,t,o);else for(var n=e.length-1;n>=0;n--)(i=e[n])&&(l=(s<3?i(l):s>3?i(r,t,l):i(r,t))||l);return s>3&&l&&Object.defineProperty(r,t,l),l},o=this&&this.__metadata||function(e,r){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,r)};Object.defineProperty(exports,"__esModule",{value:!0});const i=require("@rxdi/core"),s=require("rxjs/operators"),l=require("@rxdi/core"),n=require("rxjs"),a=require("../../helpers");exports.loadDeps=(e=>{if(!e)throw new Error("Missing ipfs config!");if(!e.provider)throw new Error("Missing ipfsProvider package.json");return e.dependencies=e.dependencies||[],e.dependencies.map(r=>({hash:r,provider:e.provider})).filter(e=>!!e)}),exports.DownloadDependencies=(e=>l.Container.get(l.ExternalImporter).downloadIpfsModules(e));let p=class{constructor(e,r){this.externalImporter=e,this.fileService=r,this.install=(()=>{let e=null;a.includes("--local-node")&&(e=this.externalImporter.getProvider("local")),a.includes("--cloudflare")&&(e=this.externalImporter.getProvider("cloudflare")),a.includes("--infura")&&(e=this.externalImporter.getProvider("infura")),a.includes("--ipfs")&&(e=this.externalImporter.getProvider("main-ipfs-node")),this.externalImporter.defaultProvider=e||this.externalImporter.defaultProvider;let r,t,o,i,l=this.externalImporter.defaultProvider,p="",d=[];return process.argv.forEach((e,r)=>{3===r&&(46===e.length?p=e:e.includes("--hash=")?p=e.split("--hash=")[1]:e.includes("-h=")&&(p=e.split("-h=")[1])),4===r&&(e.includes("--provider=")?l=e.split("--provider=")[1]:e.includes("http")?l=e:e.includes("-p=")&&(l=e.split("-p=")[1]))}),r=`${process.cwd()}/${process.argv[3]}`,t=`${process.cwd()}/package.json`,o=`${process.cwd()}/reactive.json`,!p&&this.fileService.isPresent(r)&&(i=require(r).ipfs,this.externalImporter.defaultJsonFolder=r),this.fileService.isPresent(t)&&(i=require(t).ipfs,this.externalImporter.defaultJsonFolder=t),this.fileService.isPresent(o)&&(i=require(o).ipfs,this.externalImporter.defaultJsonFolder=o),console.log(`Loaded config ${this.externalImporter.defaultJsonFolder}`),console.log("Reactive ipfs modules installing..."),p&&(d=[exports.DownloadDependencies(exports.loadDeps({provider:e||l,dependencies:[p]}))]),p||(i=i||[],d=[...d,...i.map(r=>(r.provider=e||r.provider,exports.DownloadDependencies(exports.loadDeps(r))))]),n.combineLatest(d).pipe(s.tap(()=>p?this.externalImporter.addPackageToJson(p):null),s.tap(()=>this.externalImporter.filterUniquePackages()),s.tap(r=>{console.log("Default ipfs provider: ",e||this.externalImporter.defaultProvider),console.log(`Inside package.json default provider is ${this.externalImporter.defaultProvider}`),console.log(JSON.stringify(r,null,2),"\nReactive ipfs modules installed!")},e=>{throw new Error(e)})).toPromise()})}};p=t([i.Injectable(),o("design:paramtypes",["function"==typeof(e=void 0!==l.ExternalImporter&&l.ExternalImporter)?e:Object,"function"==typeof(r=void 0!==l.FileService&&l.FileService)?r:Object])],p),exports.InstallService=p;
},{"../../helpers":"app/core/helpers/index.ts"}],"app/core/executor/executor.service.ts":[function(require,module,exports) {
"use strict";var t,e,i,r=this&&this.__decorate||function(t,e,i,r){var s,n=arguments.length,a=n<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,i):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(t,e,i,r);else for(var c=t.length-1;c>=0;c--)(s=t[c])&&(a=(n<3?s(a):n>3?s(e,i,a):s(e,i))||a);return n>3&&a&&Object.defineProperty(e,i,a),a},s=this&&this.__metadata||function(t,e){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(t,e)},n=this&&this.__awaiter||function(t,e,i,r){return new(i||(i=Promise))(function(s,n){function a(t){try{o(r.next(t))}catch(e){n(e)}}function c(t){try{o(r.throw(t))}catch(e){n(e)}}function o(t){t.done?s(t.value):new i(function(e){e(t.value)}).then(a,c)}o((r=r.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const a=require("@rxdi/core"),c=require("../../app.injection"),o=require("../transaction/transaction.service"),l=require("../status/status.service"),u=require("../tasks/install/install.service");let h=class{constructor(t,e,i){this.transactionService=t,this.statusService=e,this.installService=i,this.taskMapServer=new Map([[c.COMMANDS.add,this.transactionService.addTransaction],[c.COMMANDS.checkout,this.transactionService.checkoutTransaction],[c.COMMANDS.commit,this.transactionService.commitTransaction],[c.COMMANDS.status,this.transactionService.listTransactions],[c.COMMANDS.push,this.transactionService.pushTransactions]]),this.taskMapClient=new Map([[c.COMMANDS.install,this.installService.install],[c.COMMANDS.i,this.installService.install]])}execute(t){return n(this,void 0,void 0,function*(){return this.taskMapClient.has(t)?yield this.taskMapClient.get(t)():this.taskMapServer.has(t)&&(yield this.isServerStarted())?yield this.taskMapServer.get(t)():null})}isServerStarted(){return n(this,void 0,void 0,function*(){let t;try{t=(yield this.statusService.requestStatus().toPromise()).status}catch(e){console.log("FetchError: request to http://localhost:9000/graphql failed, reason: connect ECONNREFUSED 127.0.0.1:9000","\nstart @rxdi/deploy server example: rxdi-deploy --webui")}return!!t})}};h=r([a.Injectable(),s("design:paramtypes",["function"==typeof(t=void 0!==o.TransactionService&&o.TransactionService)?t:Object,"function"==typeof(e=void 0!==l.StatusService&&l.StatusService)?e:Object,"function"==typeof(i=void 0!==u.InstallService&&u.InstallService)?i:Object])],h),exports.ExecutorService=h;
},{"../../app.injection":"app/app.injection.ts","../transaction/transaction.service":"app/core/transaction/transaction.service.ts","../status/status.service":"app/core/status/status.service.ts","../tasks/install/install.service":"app/core/tasks/install/install.service.ts"}],"app/core/test-factory/test-factory.service.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,t,r,c){var o,a=arguments.length,n=a<3?t:null===c?c=Object.getOwnPropertyDescriptor(t,r):c;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(e,t,r,c);else for(var l=e.length-1;l>=0;l--)(o=e[l])&&(n=(a<3?o(n):a>3?o(t,r,n):o(t,r))||n);return a>3&&n&&Object.defineProperty(t,r,n),n};Object.defineProperty(exports,"__esModule",{value:!0});const t=require("@rxdi/core"),r=require("../../app.injection");exports.createFakeInjectable=(()=>[{provide:r.COMMAND_PARSER,useValue:{}},{provide:r.REACTIVE_JSON,useValue:{}}]);let c=class{createFakeInjectable(){return exports.createFakeInjectable()}};c=e([t.Injectable()],c),exports.TestFactoryService=c;
},{"../../app.injection":"app/app.injection.ts"}],"app/core/core.module.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,r,t,i){var c,s=arguments.length,o=s<3?r:null===i?i=Object.getOwnPropertyDescriptor(r,t):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,r,t,i);else for(var a=e.length-1;a>=0;a--)(c=e[a])&&(o=(s<3?c(o):s>3?c(r,t,o):c(r,t))||o);return s>3&&o&&Object.defineProperty(r,t,o),o};Object.defineProperty(exports,"__esModule",{value:!0});const r=require("@rxdi/core"),t=require("./executor/executor.service"),i=require("./transaction/transaction.service"),c=require("./status/status.service"),s=require("./spinner/spinner.service"),o=require("./logger/logger.service"),a=require("./graph/graph.service"),n=require("./file/file.service"),l=require("./test-factory/test-factory.service"),u=require("./tasks/install/install.service");let v=class{};v=e([r.Module({providers:[t.ExecutorService,i.TransactionService,c.StatusService,s.SpinnerService,o.LoggerService,a.GraphService,n.FileService,l.TestFactoryService,u.InstallService]})],v),exports.CoreModule=v;
},{"./executor/executor.service":"app/core/executor/executor.service.ts","./transaction/transaction.service":"app/core/transaction/transaction.service.ts","./status/status.service":"app/core/status/status.service.ts","./spinner/spinner.service":"app/core/spinner/spinner.service.ts","./logger/logger.service":"app/core/logger/logger.service.ts","./graph/graph.service":"app/core/graph/graph.service.ts","./file/file.service":"app/core/file/file.service.ts","./test-factory/test-factory.service":"app/core/test-factory/test-factory.service.ts","./tasks/install/install.service":"app/core/tasks/install/install.service.ts"}],"app/app.module.ts":[function(require,module,exports) {
"use strict";var e=this&&this.__decorate||function(e,r,o,t){var c,i=arguments.length,s=i<3?r:null===t?t=Object.getOwnPropertyDescriptor(r,o):t;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,r,o,t);else for(var u=e.length-1;u>=0;u--)(c=e[u])&&(s=(i<3?c(s):i>3?c(r,o,s):c(r,o))||s);return i>3&&s&&Object.defineProperty(r,o,s),s};Object.defineProperty(exports,"__esModule",{value:!0});const r=require("@rxdi/core"),o=require("./app.injection"),t=require("./core/core.module"),c=require("./core/file/file.service"),i=require("./core/executor/executor.service");let s=class{};s=e([r.Module({imports:[t.CoreModule],providers:[{provide:o.COMMAND_PARSER,useFactory:()=>process.argv.slice(2)},{provide:o.REACTIVE_JSON,deps:[c.FileService],useFactory:e=>e.readReactiveJson()},{provide:o.PACKAGE_JSON,deps:[c.FileService],useFactory:e=>e.readPackageJson()},{provide:"Executor",deps:[o.COMMAND_PARSER,i.ExecutorService],lazy:!0,useFactory:(e,r)=>r.execute(e[0])}]})],s),exports.AppModule=s;
},{"./app.injection":"app/app.injection.ts","./core/core.module":"app/core/core.module.ts","./core/file/file.service":"app/core/file/file.service.ts","./core/executor/executor.service":"app/core/executor/executor.service.ts"}],"main.ts":[function(require,module,exports) {
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=require("@rxdi/core"),r=require("./app/app.module");e.Bootstrap(r.AppModule).subscribe();
},{"./app/app.module":"app/app.module.ts"}]},{},["main.ts"], null)
//# sourceMappingURL=/main.js.map